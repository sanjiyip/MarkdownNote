# git 版本回退

## git版本回退的方法

1. `HEAD`指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令`git reset --hard commit_id`(**非常有用**)。

2. 穿梭前，用`git log`可以查看提交历史，以便确定要回退到哪个版本。（如果嫌输出信息太多，看得眼花缭乱的，可以试试加上`--pretty=oneline`参数）
    - 另外，退出git log的办法，只要按 Q 键即可

3. 要重返未来，用`git reflog`查看命令历史，以便确定要**回到未来**的哪个版本。


## git 版本回退注意

假设一开始你的本地和远程都是：

a -> b -> c

你想把HEAD回退到b，那么在本地就变成了：

a -> b

这个时候，如果没有远程库，你就接着怎么操作都行，比如：

a -> b -> d

但是在有远程库的情况下，你push会失败，因为远程库是 a->b->c，你的是 a->b->d

两种方案：

push的时候用--force，强制把远程库变成a -> b -> d，大部分公司严禁这么干，会被别人揍一顿

做一个反向操作，把自己本地变成a -> b -> c -> d，注意b和d文件快照内容一莫一样，但是commit id肯定不同，再push上去远程也会变成 a -> b -> c -> d

简单地说就是你无法容易地抹去远程库的提交信息，所以本地提交怎么都行，push前想好了

