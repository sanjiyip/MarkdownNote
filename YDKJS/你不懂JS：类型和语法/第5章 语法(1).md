# **语法**

JS 语法定义了词法规则（如运算符和关键词等）是如何构成可运行的程序代码的。

换句话说，只看词法不看语法会遗漏掉很多重要的细节。

本章介绍的是语法，虽然和开发人员直接打交道的是词法。

# 5.1 语句和表达式

开发人员常常将"语句"（statement）和“表达式”（expression）混为一谈。但是他们在 JS 中存在重要的差别。

区别：

JS，**语句相当于一个句子**，而**表达式就相当于句子中的短语**，运算符相当于句子中的标点符号和连接词。

JS 中表达式可以返回一个结果值。

```js
var a = 3 * 6;
var b = a;
b;
```
这里 3*6 是一个表达式(结果为18)。

第二行的 a 也只是一个表达式，第三行的 b 也是表达式。表达式 a 和 b 的结果都是18.

这三行代码都是包含表达式的**语句**。

var a = 3 * 6; ，var b = a;称为“声明语句”。因为它们声明了变量。

a = 3 * 6、b = a叫做赋值表达式。

第三行代码中只有一个表达式 b，同时它也是一个语句。虽然没什么意义，通常被称为“表达式语句”


## **5.1.1 语句的结果值**

**语句都有一个结果值**（undefined 也算）。 

获得结果值最直接的方法是在浏览器控制台中输入语句，默认情况下控制台会显示所执行的最后一条语句的结果值。

以赋值表达式 b = a 为例，其结果值是赋给 b 的值(18),但规范定义 var 的结果值是 undefined。

如果在控制台中输入 var a = 42;会得到结果值 undefined，而非42。

但是在我们代码中是没办法获得结果值的。说先弄清楚为什么要获得语句的结果值。

闲来看看其他语句的结果值。比如代码块{..}的结果值是它最后一个语句/表达式的结果。

例如：
```js
var b;

if (true) {
    b = 4 + 38;
}
```
在控制台会显示42，即最后一个语句/表达式 b = 4 + 38的结果值。

换句话说，代码块的结果就会如同一个**隐式的返回**，即返回最后一个语句的结果值。

但下面这样的代码无法运行：
```js
var a,b;

a = if(true) {
    b = 4 + 38;
};
```
因为语法不允许我们获得语句的结果值并将其赋值给例外一个变量。

获得语句的结果值的方法（ES5之前），使用 万恶的eval()来获取语句的结果值。（千万不要这么做）
```js
var a,b;
a = eval("if(true){b=4+38;}");
a;
```

ES7(我去，都7了)规范有一项"do 表达式"提案：

类似下面这样
```js
var a, b;
a = do {
    if(true) {
        b = 4 + 38;
    }
};
a;      //42
```

不过现在浏览器肯定没支持.

其目的是将语句当作表达式来处理了（为了语句中可以包含其他语句），从而不需要将语句封装为函数在调用 return 来返回值。

## **5.1.2 表达式的副作用**

大部分表达式没有副作用。例如：

```js
var a = 2;
var b = a + 3;
```